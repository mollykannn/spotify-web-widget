import{o as S,c as P,g as c,h as q,x as h,l as A,s as M,z as E,F as U,A as R,B as L,f as _,p as W,j as N,r as x,t as B,C as V,a as w}from"./vendor.fe3e4f79.js";import{S as H}from"./spotifyWidget.ecf14541.js";import{_ as C}from"./index.5d4c15d4.js";var j={exports:{}};(function(l){var u=function(){var s="https://api.spotify.com/v1",p=null,d=null,g=function(t,e){return t.abort=e,t},y=function(t,e){var r;if(d!==null){var a=d.defer();t(function(i){a.resolve(i)},function(i){a.reject(i)}),r=a.promise}else window.Promise&&(r=new window.Promise(t));return r?new g(r,e):null},v=function(){var t=Array.prototype.slice.call(arguments),e=t[0],r=t.slice(1);return e=e||{},r.forEach(function(a){for(var i in a)a.hasOwnProperty(i)&&(e[i]=a[i])}),e},D=function(t,e){var r="";for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];r+=encodeURIComponent(a)+"="+encodeURIComponent(i)+"&"}return r.length>0&&(r=r.substring(0,r.length-1),t=t+"?"+r),t},k=function(t,e){var r=new XMLHttpRequest,a=function(i,f){function m(T){i&&i(T),e&&e(null,T)}function G(){f&&f(r),e&&e(r,null)}var I=t.type||"GET";if(r.open(I,D(t.url,t.params)),p&&r.setRequestHeader("Authorization","Bearer "+p),r.onreadystatechange=function(){if(r.readyState===4){var T=null;try{T=r.responseText?JSON.parse(r.responseText):""}catch(O){console.error(O)}r.status>=200&&r.status<300?m(T):G()}},I==="GET")r.send(null);else{var b=null;t.postData&&(t.contentType==="image/jpeg"?(b=t.postData,r.setRequestHeader("Content-Type",t.contentType)):(b=JSON.stringify(t.postData),r.setRequestHeader("Content-Type","application/json"))),r.send(b)}};return e?(a(),null):y(a,function(){r.abort()})},n=function(t,e,r,a){var i={},f=null;typeof e=="object"?(i=e,f=r):typeof e=="function"&&(f=e);var m=t.type||"GET";return m!=="GET"&&t.postData&&!a?t.postData=v(t.postData,i):t.params=v(t.params,i),k(t,f)},o=function(){};return o.prototype={constructor:u},o.prototype.getGeneric=function(t,e){var r={url:t};return n(r,e)},o.prototype.getMe=function(t,e){var r={url:s+"/me"};return n(r,t,e)},o.prototype.getMySavedTracks=function(t,e){var r={url:s+"/me/tracks"};return n(r,t,e)},o.prototype.addToMySavedTracks=function(t,e,r){var a={url:s+"/me/tracks",type:"PUT",postData:t};return n(a,e,r)},o.prototype.removeFromMySavedTracks=function(t,e,r){var a={url:s+"/me/tracks",type:"DELETE",postData:t};return n(a,e,r)},o.prototype.containsMySavedTracks=function(t,e,r){var a={url:s+"/me/tracks/contains",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getMySavedAlbums=function(t,e){var r={url:s+"/me/albums"};return n(r,t,e)},o.prototype.addToMySavedAlbums=function(t,e,r){var a={url:s+"/me/albums",type:"PUT",postData:t};return n(a,e,r)},o.prototype.removeFromMySavedAlbums=function(t,e,r){var a={url:s+"/me/albums",type:"DELETE",postData:t};return n(a,e,r)},o.prototype.containsMySavedAlbums=function(t,e,r){var a={url:s+"/me/albums/contains",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getMyTopArtists=function(t,e){var r={url:s+"/me/top/artists"};return n(r,t,e)},o.prototype.getMyTopTracks=function(t,e){var r={url:s+"/me/top/tracks"};return n(r,t,e)},o.prototype.getMyRecentlyPlayedTracks=function(t,e){var r={url:s+"/me/player/recently-played"};return n(r,t,e)},o.prototype.followUsers=function(t,e){var r={url:s+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return n(r,e)},o.prototype.followArtists=function(t,e){var r={url:s+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return n(r,e)},o.prototype.followPlaylist=function(t,e,r){var a={url:s+"/playlists/"+t+"/followers",type:"PUT",postData:{}};return n(a,e,r)},o.prototype.unfollowUsers=function(t,e){var r={url:s+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return n(r,e)},o.prototype.unfollowArtists=function(t,e){var r={url:s+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return n(r,e)},o.prototype.unfollowPlaylist=function(t,e){var r={url:s+"/playlists/"+t+"/followers",type:"DELETE"};return n(r,e)},o.prototype.isFollowingUsers=function(t,e){var r={url:s+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return n(r,e)},o.prototype.isFollowingArtists=function(t,e){var r={url:s+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return n(r,e)},o.prototype.areFollowingPlaylist=function(t,e,r){var a={url:s+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:e.join(",")}};return n(a,r)},o.prototype.getFollowedArtists=function(t,e){var r={url:s+"/me/following",type:"GET",params:{type:"artist"}};return n(r,t,e)},o.prototype.getUser=function(t,e,r){var a={url:s+"/users/"+encodeURIComponent(t)};return n(a,e,r)},o.prototype.getUserPlaylists=function(t,e,r){var a;return typeof t=="string"?a={url:s+"/users/"+encodeURIComponent(t)+"/playlists"}:(a={url:s+"/me/playlists"},r=e,e=t),n(a,e,r)},o.prototype.getPlaylist=function(t,e,r){var a={url:s+"/playlists/"+t};return n(a,e,r)},o.prototype.getPlaylistTracks=function(t,e,r){var a={url:s+"/playlists/"+t+"/tracks"};return n(a,e,r)},o.prototype.getPlaylistCoverImage=function(t,e){var r={url:s+"/playlists/"+t+"/images"};return n(r,e)},o.prototype.createPlaylist=function(t,e,r){var a={url:s+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:e};return n(a,e,r)},o.prototype.changePlaylistDetails=function(t,e,r){var a={url:s+"/playlists/"+t,type:"PUT",postData:e};return n(a,e,r)},o.prototype.addTracksToPlaylist=function(t,e,r,a){var i={url:s+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:e}};return n(i,r,a,!0)},o.prototype.replaceTracksInPlaylist=function(t,e,r){var a={url:s+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:e}};return n(a,{},r)},o.prototype.reorderTracksInPlaylist=function(t,e,r,a,i){var f={url:s+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:e,insert_before:r}};return n(f,a,i)},o.prototype.removeTracksFromPlaylist=function(t,e,r){var a=e.map(function(f){return typeof f=="string"?{uri:f}:f}),i={url:s+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:a}};return n(i,{},r)},o.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,e,r,a){var i=e.map(function(m){return typeof m=="string"?{uri:m}:m}),f={url:s+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:i,snapshot_id:r}};return n(f,{},a)},o.prototype.removeTracksFromPlaylistInPositions=function(t,e,r,a){var i={url:s+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:e,snapshot_id:r}};return n(i,{},a)},o.prototype.uploadCustomPlaylistCoverImage=function(t,e,r){var a={url:s+"/playlists/"+t+"/images",type:"PUT",postData:e.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return n(a,{},r)},o.prototype.getAlbum=function(t,e,r){var a={url:s+"/albums/"+t};return n(a,e,r)},o.prototype.getAlbumTracks=function(t,e,r){var a={url:s+"/albums/"+t+"/tracks"};return n(a,e,r)},o.prototype.getAlbums=function(t,e,r){var a={url:s+"/albums/",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getTrack=function(t,e,r){var a={};return a.url=s+"/tracks/"+t,n(a,e,r)},o.prototype.getTracks=function(t,e,r){var a={url:s+"/tracks/",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getArtist=function(t,e,r){var a={url:s+"/artists/"+t};return n(a,e,r)},o.prototype.getArtists=function(t,e,r){var a={url:s+"/artists/",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getArtistAlbums=function(t,e,r){var a={url:s+"/artists/"+t+"/albums"};return n(a,e,r)},o.prototype.getArtistTopTracks=function(t,e,r,a){var i={url:s+"/artists/"+t+"/top-tracks",params:{country:e}};return n(i,r,a)},o.prototype.getArtistRelatedArtists=function(t,e,r){var a={url:s+"/artists/"+t+"/related-artists"};return n(a,e,r)},o.prototype.getFeaturedPlaylists=function(t,e){var r={url:s+"/browse/featured-playlists"};return n(r,t,e)},o.prototype.getNewReleases=function(t,e){var r={url:s+"/browse/new-releases"};return n(r,t,e)},o.prototype.getCategories=function(t,e){var r={url:s+"/browse/categories"};return n(r,t,e)},o.prototype.getCategory=function(t,e,r){var a={url:s+"/browse/categories/"+t};return n(a,e,r)},o.prototype.getCategoryPlaylists=function(t,e,r){var a={url:s+"/browse/categories/"+t+"/playlists"};return n(a,e,r)},o.prototype.search=function(t,e,r,a){var i={url:s+"/search/",params:{q:t,type:e.join(",")}};return n(i,r,a)},o.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},o.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},o.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},o.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},o.prototype.searchShows=function(t,e,r){return this.search(t,["show"],e,r)},o.prototype.searchEpisodes=function(t,e,r){return this.search(t,["episode"],e,r)},o.prototype.getAudioFeaturesForTrack=function(t,e){var r={};return r.url=s+"/audio-features/"+t,n(r,{},e)},o.prototype.getAudioFeaturesForTracks=function(t,e){var r={url:s+"/audio-features",params:{ids:t}};return n(r,{},e)},o.prototype.getAudioAnalysisForTrack=function(t,e){var r={};return r.url=s+"/audio-analysis/"+t,n(r,{},e)},o.prototype.getRecommendations=function(t,e){var r={url:s+"/recommendations"};return n(r,t,e)},o.prototype.getAvailableGenreSeeds=function(t){var e={url:s+"/recommendations/available-genre-seeds"};return n(e,{},t)},o.prototype.getMyDevices=function(t){var e={url:s+"/me/player/devices"};return n(e,{},t)},o.prototype.getMyCurrentPlaybackState=function(t,e){var r={url:s+"/me/player"};return n(r,t,e)},o.prototype.getMyCurrentPlayingTrack=function(t,e){var r={url:s+"/me/player/currently-playing"};return n(r,t,e)},o.prototype.transferMyPlayback=function(t,e,r){var a=e||{};a.device_ids=t;var i={type:"PUT",url:s+"/me/player",postData:a};return n(i,e,r)},o.prototype.play=function(t,e){t=t||{};var r="device_id"in t?{device_id:t.device_id}:null,a={};["context_uri","uris","offset","position_ms"].forEach(function(m){m in t&&(a[m]=t[m])});var i={type:"PUT",url:s+"/me/player/play",params:r,postData:a},f=typeof t=="function"?t:{};return n(i,f,e)},o.prototype.queue=function(t,e,r){e=e||{};var a="device_id"in e?{uri:t,device_id:e.device_id}:{uri:t},i={type:"POST",url:s+"/me/player/queue",params:a};return n(i,e,r)},o.prototype.pause=function(t,e){t=t||{};var r="device_id"in t?{device_id:t.device_id}:null,a={type:"PUT",url:s+"/me/player/pause",params:r};return n(a,t,e)},o.prototype.skipToNext=function(t,e){t=t||{};var r="device_id"in t?{device_id:t.device_id}:null,a={type:"POST",url:s+"/me/player/next",params:r};return n(a,t,e)},o.prototype.skipToPrevious=function(t,e){t=t||{};var r="device_id"in t?{device_id:t.device_id}:null,a={type:"POST",url:s+"/me/player/previous",params:r};return n(a,t,e)},o.prototype.seek=function(t,e,r){e=e||{};var a={position_ms:t};"device_id"in e&&(a.device_id=e.device_id);var i={type:"PUT",url:s+"/me/player/seek",params:a};return n(i,e,r)},o.prototype.setRepeat=function(t,e,r){e=e||{};var a={state:t};"device_id"in e&&(a.device_id=e.device_id);var i={type:"PUT",url:s+"/me/player/repeat",params:a};return n(i,e,r)},o.prototype.setVolume=function(t,e,r){e=e||{};var a={volume_percent:t};"device_id"in e&&(a.device_id=e.device_id);var i={type:"PUT",url:s+"/me/player/volume",params:a};return n(i,e,r)},o.prototype.setShuffle=function(t,e,r){e=e||{};var a={state:t};"device_id"in e&&(a.device_id=e.device_id);var i={type:"PUT",url:s+"/me/player/shuffle",params:a};return n(i,e,r)},o.prototype.getShow=function(t,e,r){var a={};return a.url=s+"/shows/"+t,n(a,e,r)},o.prototype.getShows=function(t,e,r){var a={url:s+"/shows/",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getMySavedShows=function(t,e){var r={url:s+"/me/shows"};return n(r,t,e)},o.prototype.addToMySavedShows=function(t,e,r){var a={url:s+"/me/shows",type:"PUT",postData:t};return n(a,e,r)},o.prototype.removeFromMySavedShows=function(t,e,r){var a={url:s+"/me/shows",type:"DELETE",postData:t};return n(a,e,r)},o.prototype.containsMySavedShows=function(t,e,r){var a={url:s+"/me/shows/contains",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getShowEpisodes=function(t,e,r){var a={url:s+"/shows/"+t+"/episodes"};return n(a,e,r)},o.prototype.getEpisode=function(t,e,r){var a={};return a.url=s+"/episodes/"+t,n(a,e,r)},o.prototype.getEpisodes=function(t,e,r){var a={url:s+"/episodes/",params:{ids:t.join(",")}};return n(a,e,r)},o.prototype.getAccessToken=function(){return p},o.prototype.setAccessToken=function(t){p=t},o.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t(function(a){a()});typeof r.then=="function"&&typeof r.catch=="function"&&(e=!0)}catch(a){console.error(a)}if(e)d=t;else throw new Error("Unsupported implementation of Promises/A+")},o}();l.exports=u})(j);var F=j.exports;let K=new F;function z(l,u){return u=l.indexOf("search")>=0?u[l.replace("search","").toLowerCase()]:u,{title:`${l.indexOf("get")>=0?"Saved ":""}${l.indexOf("Album")>=0?"Album":l.indexOf("Playlist")>=0?"Playlist":"Track"}`,listType:l,previous:u.previous,next:u.next,offset:u.offset,limit:u.limit,total:u.total,first:u.offset+1,last:u.limit+u.offset>u.total?u.total:u.limit+u.offset,items:u.items.map(s=>(["getMySavedAlbums","searchAlbums"].includes(l)?s=l=="getMySavedAlbums"?s.album:s:["getUserPlaylists","searchPlaylists"].includes(l)?s.artists=[{name:s.owner.display_name}]:["getMySavedTracks","searchTracks"].includes(l)&&(s=l=="getMySavedTracks"?s.track:s,s.images=[{url:s.album.images[0].url}]),s))}}function J(l,u,s,p=""){return new Promise(d=>{let g=l.indexOf("get")>=0?[{limit:u,offset:s}]:[p,{limit:u,offset:s}];K[l](...g).then(y=>{d(z(l,y))}).catch(()=>{window.location.href="/"})})}const X={props:{datas:Object,EditSpotifyID:Function,Paglication:Function},setup(l){return l}},Q={key:0,class:"container-album"},Y={class:"list-title-column"},Z={class:"album-title"},$={class:"count"},tt={class:"previous-next-column"},et=["onClick"],rt={class:"album-image"},at=["src"],st={class:"album-text"},ot={class:"name"},nt={class:"description"},it=c("hr",null,null,-1);function ut(l,u,s,p,d,g){return s.datas?(S(),P("div",Q,[c("div",Y,[c("h3",Z,[q(h(s.datas.title),1),c("span",$,"("+h(s.datas.first)+" - "+h(s.datas.last)+" of "+h(s.datas.total)+")",1)]),c("div",tt,[A(c("span",{onClick:u[0]||(u[0]=E(y=>s.Paglication([s.datas.listType,s.datas.limit,s.datas.offset-s.datas.limit]),["prevent"])),class:"previous"},"\xAB Previous",512),[[M,s.datas.previous]]),A(c("span",{onClick:u[1]||(u[1]=E(y=>s.Paglication([s.datas.listType,s.datas.limit,s.datas.offset+s.datas.limit]),["prevent"])),class:"next"},"Next \xBB",512),[[M,s.datas.next]])])]),(S(!0),P(U,null,R(s.datas.items,y=>(S(),P("div",{key:y.value,class:"album",onClick:E(v=>s.EditSpotifyID(y.uri),["prevent"])},[c("div",rt,[c("img",{src:y.images[0].url},null,8,at)]),c("div",st,[c("div",ot,h(y.name),1),c("div",nt,h(y.artists[0].name),1)])],8,et))),128)),it])):L("",!0)}var lt=C(X,[["render",ut]]);const pt={components:{SpotifyWidget:H,ListColumn:lt},setup(){let l=_(""),{InitalSpotifyID:u,EditSpotifyID:s}=ct(),{dataAlbum:p,dataPlaylist:d,dataSaveTracks:g,GetSpotifyAPI:y}=yt(l);const v=()=>{l.value==""?y(["getMySavedAlbums",8,0],["getUserPlaylists",4,0],["getMySavedTracks",8,0]):y(["searchAlbums",8,0],["searchPlaylists",4,0],["searchTracks",8,0])};return u(),y(["getMySavedAlbums",8,0],["getUserPlaylists",4,0],["getMySavedTracks",8,0]),{searchData:l,dataAlbum:p,dataPlaylist:d,dataSaveTracks:g,EditSpotifyID:s,Search:v,GetSpotifyAPI:y}}};function ct(){let l=_("");return{InitalSpotifyID:()=>{new F().setAccessToken(sessionStorage.getItem("access_token")),W("spotifyID",N(()=>{var d;return(d=l.value)!=null?d:""}))},EditSpotifyID:p=>{l.value=p}}}function yt(l){let u=_(),s=_(),p=_();return{dataAlbum:u,dataPlaylist:s,dataSaveTracks:p,GetSpotifyAPI:(...g)=>{g.forEach(y=>{let[v,D,k]=y;J(v,D,k,l.value).then(n=>{["getMySavedAlbums","searchAlbums"].includes(v)?u.value=n:["getUserPlaylists","searchPlaylists"].includes(v)?s.value=n:["getMySavedTracks","searchTracks"].includes(v)&&(p.value=n)})})}}}const ft={class:"column-search"},dt=c("div",{class:"title-column"},[c("h1",{class:"title"},"Spotify Web Widget"),c("h2",{class:"title-description",id:"title-description"},"Get the Spotify Web Widget.")],-1),vt={id:"search-tool"},mt=c("footer",{class:"footer"},[q(" Created by "),c("a",{href:"https://github.com/mollykannn"},"Molly Kan"),c("br"),q(" Icons made by "),c("a",{href:"http://www.freepik.com/",title:"Freepik"},"Freepik"),q(" from "),c("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," www.flaticon.com")],-1);function gt(l,u,s,p,d,g){const y=x("ListColumn"),v=x("SpotifyWidget");return S(),P(U,null,[c("div",ft,[dt,c("div",vt,[A(c("input",{type:"text",class:"input-search","onUpdate:modelValue":u[0]||(u[0]=D=>p.searchData=D),onKeyup:u[1]||(u[1]=V(D=>p.Search(),["enter"])),placeholder:"Search Music"},null,544),[[B,p.searchData]]),w(y,{datas:p.dataAlbum,EditSpotifyID:p.EditSpotifyID,Paglication:p.GetSpotifyAPI},null,8,["datas","EditSpotifyID","Paglication"]),w(y,{datas:p.dataPlaylist,EditSpotifyID:p.EditSpotifyID,Paglication:p.GetSpotifyAPI},null,8,["datas","EditSpotifyID","Paglication"]),w(y,{datas:p.dataSaveTracks,EditSpotifyID:p.EditSpotifyID,Paglication:p.GetSpotifyAPI},null,8,["datas","EditSpotifyID","Paglication"])])]),w(v,{page:"details-page"}),mt],64)}var _t=C(pt,[["render",gt]]);export{_t as default};
