import{i as d,r as u,c as m,p as f,a as y,o as _,b as h,d as v,e as g,f as S,v as w,g as I}from"./vendor.1c28a4b5.js";const E=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}};E();const D=()=>{const i=u({spotifyID:""}),s=m(()=>i.spotifyID),n=t=>{i.spotifyID=t};f("getSpotifyID",s),f("updateSpotifyID",n)},V=()=>({getSpotifyID:d("getSpotifyID"),updateSpotifyID:d("updateSpotifyID")});var R=(i,s)=>{const n=i.__vccOpts||i;for(const[t,e]of s)n[t]=e;return n};const b={setup(){D()}},L={class:"container"};function O(i,s,n,t,e,o){const r=y("router-view");return _(),h("div",L,[v(r)])}var k=R(b,[["render",O]]);const P="modulepreload",p={},$="/spotify-web-widget/",l=function(s,n){return!n||n.length===0?s():Promise.all(n.map(t=>{if(t=`${$}${t}`,t in p)return;p[t]=!0;const e=t.endsWith(".css"),o=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${o}`))return;const r=document.createElement("link");if(r.rel=e?"stylesheet":P,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e)return new Promise((a,c)=>{r.addEventListener("load",a),r.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s())},A=g({history:S(),routes:[{path:"/",name:"home",component:()=>l(()=>import("./HomePage.7dbcc173.js"),["assets/HomePage.7dbcc173.js","assets/vendor.1c28a4b5.js","assets/spotifyWidget.9104509f.js"])},{path:"/vertify",name:"vertify",component:()=>l(()=>import("./LoginVertify.7bfb76f4.js"),[])},{path:"/details",name:"details",component:()=>l(()=>import("./WidgetDetails.58f6965f.js"),["assets/WidgetDetails.58f6965f.js","assets/vendor.1c28a4b5.js","assets/spotifyWidget.9104509f.js"]),beforeEnter:(i,s,n)=>sessionStorage.getItem("access_token")?n():n("/")},{path:"/:pathMatch(.*)*",redirect:"/"},{path:"/access_token:pathMatch(.*)*",redirect:"/vertify"}]});function N(i={}){const{immediate:s=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:e,onRegisterError:o}=i;let r;const a=async(c=!0)=>{};return"serviceWorker"in navigator&&(r=new w("/spotify-web-widget/sw.js",{scope:"/spotify-web-widget/",type:"classic"}),r.addEventListener("activated",c=>{c.isUpdate?window.location.reload():t==null||t()}),r.register({immediate:s}).then(c=>{e==null||e(c)}).catch(c=>{o==null||o(c)})),a}const W=N({onNeedRefresh(){},onOfflineReady(){}});W();I(k).use(A).mount("#app");export{R as _,V as u};
